"use strict";(function($){$.fn.slideform=function(userOptions,args){var $form=$(this),$slides=$form.find(".slideform-slide"),$wrapper=null,$track=null,$current=0,$max=0,$options={nextButtonText:"OK",prevButtonText:"Anterior",submitButtonText:"Enviar",validate:null,submit:null};if(void 0!==userOptions)for(var attr in userOptions)$options[attr]=userOptions[attr];function init(){$form.addClass("slideform-form").addClass("slideform-initialized"),$track=$("<div />",{class:"slideform-track"}).insertBefore($form.find(".slideform-slide").eq(0)),$wrapper=$("<div />",{class:"slideform-wrapper"}).appendTo($track).append($form.find(".slideform-slide")),setSlidesHeight(),enableValidation(),updateButtonsStatus($current),$form.find(".slideform-slide").each((function(t,i){0==t&&$(this).addClass("active"),t<$slides.length-2?$(this).find(".slideform-group").append('<button class="slideform-btn slideform-btn-next">'+$options.nextButtonText+"</button>"):t<$slides.length-1&&$(this).find(".slideform-group").append('<button type="submit" class="slideform-btn slideform-btn-submit"><i class="icon-check"></i>&nbsp;&nbsp;'+$options.submitButtonText+"</button>")})),$("[data-condition]").find("input, select, textarea, button").prop("disabled",!0)}function enableValidation(){if($options.validate&&$.validator){var t={errorPlacement:function(t,i){"radio"==i.attr("type")||"checkbox"==i.attr("type")?t.appendTo(i.closest("div")):t.insertAfter(i)}};void 0!==$options.validate.rules&&(t.rules=$options.validate.rules),void 0!==$options.validate.messages&&(t.messages=$options.validate.messages),$form.validate(t)}}function setSlidesHeight(){$form.find(".slideform-slide").css("height",$track.outerHeight())}function updateButtonsStatus(t){$form.find(".slideform-btn-next").prop("disabled",t==$slides.length-1),$form.find(".slideform-btn-prev").prop("disabled",0==t),$form.find("footer .slideform-btn-next").prop("disabled",t>=$max)}function validateSlideInputs(t){if(!$.validator)return!0;var i=!0;return $slides.eq(t).find("input, textarea, select").each((function(){$(this).valid()||(i=!1)})),i}function triggerConditions(){var input={};$form.serializeArray().map((function(t){void 0===input[t.name]?input[t.name]=t.value:Array.isArray(input[t.name])?input[t.name].push(t.value):input[t.name]=[input[t.name],t.value]})),$form.find("[data-condition]").each((function(){var valid=eval($(this).data("condition"));$(this).find("input, textarea, select").prop("disabled",!valid),valid?$(this).slideDown():($(this).slideUp(),eval($(this).data("condition-false")))}))}init(),$form.on("click",".slideform-btn",(function(t){t.preventDefault();var i=$(this);if(i.hasClass("slideform-btn-next")){var e=!0;i.closest(".slideform-group").find("input").each((function(){$.validator&&!$(this).valid()&&(e=!1)})),e&&$form.goForward()}if(i.hasClass("slideform-btn-prev")&&$form.goBack(),i.hasClass("slideform-btn-submit")){e=!0;i.closest(".slideform-group").find("input").each((function(){$.validator&&!$(this).valid()&&(e=!1)})),e&&$form.submit()}})),$form.find("input[type=radio] + span, input[type=checkbox] + span").on("click",(function(){var t=$(this).prev();"radio"==t.attr("type")&&t.is(":checked")||t.is(":disabled")||t.prop("checked",!t.is(":checked")).change()})),$("input, textarea, select").on("blur change",(function(t){triggerConditions()})),$(window).resize((function(){setSlidesHeight()})),$form.on("submit",(function(t){$options.submit&&(t.preventDefault(),$options.submit(t,$form))})),$form.goTo=function(t){var i=t*(100/$slides.length),e=0;e=t-1<=0?0:t==$slides.length-1?100:(t-1)*(100/($slides.length-2)),$wrapper.css("transform","translateY("+-1*i+"%)"),$(".slideform-progress-bar span").css("width",e+"%"),$slides.filter(".active").animate({scrollTop:0},"fast"),$slides.eq(t).addClass("active").siblings().removeClass("active"),$max=t>$max?t:$max,updateButtonsStatus(t)},$form.goForward=function(){validateSlideInputs($current)&&$current!=$slides.length-1&&$form.goTo(++$current)},$form.goBack=function(){0!=$current&&($current--,$form.goTo($current))},$form.on("goForward",(function(){$form.goForward()})),$form.on("goBack",(function(){$form.goBack()})),$form.on("goTo",(function(t,i){$form.goTo(i)}))}})(jQuery);